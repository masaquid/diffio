# テキスト差分比較ツール 要件定義書

## 1. プロジェクト概要
- **目的**: 2つのテキストの差分を視覚的に比較できるWebアプリケーション
- **開発期間**: 1-2日
- **技術スタック**: Next.js 14, TypeScript, Tailwind CSS, Vercel
- **デザインテーマ**: ガラスモーフィズム
- **対象デバイス**: PC（デスクトップ・ラップトップ）メイン

## 2. 機能要件

### 2.1 コア機能
- **テキスト入力**: 左右2ペインでのテキスト入力
- **差分検出**: 文字単位・単語単位・行単位での差分計算
- **差分表示**: 追加・削除・変更箇所のハイライト表示
- **ファイル読込**: .txt, .md, .json, .csv対応
- **結果エクスポート**: HTML, テキスト形式での出力

### 2.2 UI/UX機能
- **リアルタイム比較**: 入力時の即座な差分更新
- **表示モード切替**: 横並び・縦並び表示
- **ズーム機能**: テキストサイズ調整
- **コピー機能**: 差分結果のクリップボードコピー
- **統計表示**: 変更行数・文字数カウント

## 3. 非機能要件

### 3.1 パフォーマンス
- **応答時間**: 10,000文字以下で1秒以内の差分計算
- **メモリ使用量**: ブラウザクラッシュ回避（100MB以下）
- **ファイルサイズ**: 最大5MBまでの読込対応

### 3.2 ユーザビリティ
- **操作性**: ドラッグ&ドロップでのファイル読込
- **視認性**: ガラスモーフィズムでの美しい差分表示
- **アクセシビリティ**: キーボードショートカット対応

## 4. 技術仕様

### 4.1 差分アルゴリズム
- **ライブラリ**: diffパッケージ使用
- **比較単位**: 文字・単語・行の3モード
- **出力形式**: unified diff形式対応

### 4.2 UI実装
- **フレームワーク**: Next.js 14 (App Router)
- **スタイリング**: Tailwind CSS + ガラスモーフィズム
- **状態管理**: React hooks (useState, useEffect)
- **ファイル処理**: FileReader API

## 5. 画面構成

### 5.1 メイン画面
```
┌─────────────────────────────────────────┐
│ Header (ガラス効果ナビゲーション)        │
├─────────────────────────────────────────┤
│ Control Panel (比較設定・操作ボタン)    │
├─────────────────────────────────────────┤
│ Left Pane     │     Right Pane          │
│ (テキスト1)   │     (テキスト2)         │
│               │                         │
├─────────────────────────────────────────┤
│ Stats Panel (差分統計・結果概要)        │
└─────────────────────────────────────────┘
```

### 5.2 主要コンポーネント
- **DiffViewer**: メイン比較画面
- **TextInput**: テキスト入力エリア
- **FileUpload**: ファイル読込機能
- **ControlPanel**: 設定・操作パネル
- **StatsDisplay**: 統計情報表示

## 6. デザイン仕様

### 6.1 ガラスモーフィズム要素
- **背景**: グラデーション + ぼかし効果
- **カード**: backdrop-blur-lg bg-white/20
- **ボーダー**: 半透明境界線
- **シャドウ**: ソフトドロップシャドウ

### 6.2 カラーパレット
- **追加**: 緑系 (bg-green-100/30)
- **削除**: 赤系 (bg-red-100/30)
- **変更**: 黄系 (bg-yellow-100/30)
- **背景**: 紫～青グラデーション

## 7. 成功指標
- **機能完成度**: 全コア機能の実装完了
- **デザイン品質**: ガラスモーフィズムの美しい実装
- **パフォーマンス**: 大容量テキストでの安定動作
- **ユーザビリティ**: 直感的な操作性